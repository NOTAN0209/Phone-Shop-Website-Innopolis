{"ast":null,"code":"var _jsxFileName = \"F:\\\\test\\\\react-app\\\\src\\\\components\\\\PageProduct\\\\form\\\\form.jsx\",\n  _s = $RefreshSig$();\nimport { useState } from 'react';\nimport './form.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet errorInitial = {\n  name: null,\n  rating: null\n};\nfunction Form() {\n  _s();\n  let [input, setInput] = useState(JSON.parse(localStorage.getItem('reviewFormInput')));\n  let [error, setError] = useState({\n    errorInitial\n  });\n  localStorage.setItem('reviewFormInput', JSON.stringify(input));\n\n  // console.log(input);\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    if ((input === null || input === void 0 ? void 0 : input.name.trim()) === '') {\n      setError({\n        ...error,\n        name: 'Вы забыли указать имя и фамилию'\n      });\n      return;\n    }\n    let nameLength = input === null || input === void 0 ? void 0 : input.name.trim().length;\n    if (nameLength <= 2) {\n      setError({\n        ...error,\n        name: 'Имя не может быть короче 2-х символов'\n      });\n      return;\n    }\n    let rating = +(input === null || input === void 0 ? void 0 : input.rating.trim().length);\n    if (isNaN(rating) || rating < 1 || rating > 5) {\n      setError({\n        ...error,\n        rating: 'Оценка должна быть от 1 до 5'\n      });\n      return;\n    }\n    setInput({\n      name: \"\",\n      rating: \"\",\n      text: \"\"\n    });\n    console.log(\"Проверка завершена\");\n  }\n  ;\n\n  // Срабатывает при вводе имени\n  let handleInputName = event => {\n    setInput({\n      ...input,\n      name: event.target.value\n    });\n  };\n\n  // Срабатывает при фокусе на поле с именем\n  let handleFocusName = () => {\n    setError({\n      ...errorInitial\n    });\n  };\n\n  // Срабатывает при вводе рейтинга \n  let handleInputRating = event => {\n    setInput({\n      ...input,\n      rating: event.target.value\n    });\n  };\n\n  // Срабатывает при фокусе на поле с рейтингом\n  let handleFocusRating = () => {\n    setError({\n      ...errorInitial\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    className: \"form\",\n    onSubmit: handleSubmit,\n    children: /*#__PURE__*/_jsxDEV(\"fieldset\", {\n      className: \"formBorder\",\n      children: [/*#__PURE__*/_jsxDEV(\"legend\", {\n        className: \"formTitle\",\n        children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0441\\u0432\\u043E\\u0439 \\u043E\\u0442\\u0437\\u044B\\u0432\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"formRow\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"inputNameColumn\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"name\",\n            placeholder: \"\\u0418\\u043C\\u044F \\u0438 \\u0444\\u0430\\u043C\\u0438\\u043B\\u0438\\u044F\",\n            className: \"inputName\",\n            value: input === null || input === void 0 ? void 0 : input.name,\n            onInput: handleInputName,\n            onFocus: handleFocusName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `mistakeName ${error.name ? '' : \"mistakeNameVisible\"}`,\n            children: error.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"inputNumberColumn\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            name: \"rating\",\n            placeholder: \"\\u041E\\u0446\\u0435\\u043D\\u043A\\u0430\",\n            className: \"inputNumber\",\n            value: input === null || input === void 0 ? void 0 : input.rating,\n            onInput: handleInputRating,\n            onFocus: handleFocusRating\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `mistakeNumber ${error.rating ? '' : \"mistakeNumberVisible\"}`,\n            children: error.rating\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        clasName: \"inputText\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"textarea\",\n          name: \"text-review\",\n          placeholder: \"\\u0422\\u0435\\u043A\\u0441\\u0442 \\u043E\\u0442\\u0437\\u044B\\u0432\\u0430\",\n          className: \"inputReview\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 18\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"formButton\",\n        type: \"submit\",\n        children: \"\\u041E\\u0442\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u044C \\u043E\\u0442\\u0437\\u044B\\u0432\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 9\n  }, this);\n}\n_s(Form, \"vMHGLzFk5n8B/Nwb4sI0RHzhhTc=\");\n_c = Form;\nexport default Form;\nvar _c;\n$RefreshReg$(_c, \"Form\");","map":{"version":3,"names":["useState","errorInitial","name","rating","Form","input","setInput","JSON","parse","localStorage","getItem","error","setError","setItem","stringify","handleSubmit","event","preventDefault","trim","nameLength","length","isNaN","text","console","log","handleInputName","target","value","handleFocusName","handleInputRating","handleFocusRating"],"sources":["F:/test/react-app/src/components/PageProduct/form/form.jsx"],"sourcesContent":["import { useState } from 'react';\r\nimport './form.css';\r\n\r\nlet errorInitial = { name: null, rating: null }; \r\n\r\nfunction Form() {\r\n\r\n    let [input, setInput] = useState(JSON.parse(localStorage.getItem('reviewFormInput')));\r\n    let [error, setError] = useState({ errorInitial });\r\n    localStorage.setItem('reviewFormInput', JSON.stringify(input));\r\n\r\n    // console.log(input);\r\n\r\n    function handleSubmit (event){\r\n        event.preventDefault();\r\n\r\n        if (input?.name.trim() === '') {\r\n            setError({ ...error, name: 'Вы забыли указать имя и фамилию' });\r\n            return;\r\n        }\r\n\r\n        let nameLength = input?.name.trim().length;\r\n\r\n        if (nameLength <= 2) {\r\n            setError({ ...error, name: 'Имя не может быть короче 2-х символов' });\r\n            return;\r\n        }\r\n\r\n        let rating = +input?.rating.trim().length;\r\n        \r\n        if (isNaN(rating) || rating < 1 || rating > 5) {\r\n            setError({ ...error, rating: 'Оценка должна быть от 1 до 5' });\r\n            return;\r\n        }\r\n\r\n        setInput({ name: \"\", rating: \"\", text: \"\" });\r\n        console.log(\"Проверка завершена\");\r\n    };\r\n\r\n     // Срабатывает при вводе имени\r\n     let handleInputName = (event) => {\r\n        setInput({ ...input, name: event.target.value });\r\n    };\r\n\r\n    // Срабатывает при фокусе на поле с именем\r\n    let handleFocusName = () => {\r\n        setError({ ...errorInitial })\r\n    };\r\n\r\n    // Срабатывает при вводе рейтинга \r\n    let handleInputRating = (event) => {\r\n        setInput({ ...input, rating: event.target.value });\r\n    };\r\n\r\n    // Срабатывает при фокусе на поле с рейтингом\r\n    let handleFocusRating = () => {\r\n        setError({ ...errorInitial })\r\n    }\r\n\r\n    return (\r\n        <form className=\"form\" onSubmit={handleSubmit} >\r\n            <fieldset className=\"formBorder\">\r\n                <legend className=\"formTitle\">Добавить свой отзыв</legend>\r\n                    <div className=\"formRow\"> \r\n                    \r\n                        <div className=\"inputNameColumn\">\r\n                            <input\r\n                                 type=\"text\"\r\n                                 name=\"name\"\r\n                                 placeholder=\"Имя и фамилия\"\r\n                                 className=\"inputName\"\r\n                                 value={input?.name}\r\n                                 onInput={handleInputName}\r\n                                 onFocus={handleFocusName}\r\n                                />\r\n        \r\n                            <div className={`mistakeName ${error.name ? '' : \"mistakeNameVisible\"}`}>{error.name}</div>\r\n                        </div>\r\n\r\n                        <div className=\"inputNumberColumn\"> \r\n                            <input\r\n                                type=\"number\"\r\n                                name=\"rating\"\r\n                                placeholder=\"Оценка\"\r\n                                className=\"inputNumber\"\r\n                                value={input?.rating}\r\n                                onInput={handleInputRating}\r\n                                onFocus={handleFocusRating}\r\n                                />\r\n                        \r\n                            <div className={`mistakeNumber ${error.rating ? '' : \"mistakeNumberVisible\"}`}>{error.rating}</div>                                                                   \r\n                        </div>                 \r\n                 </div>\r\n                          \r\n                 <div clasName=\"inputText\">\r\n                        <input\r\n                         type=\"textarea\" \r\n                         name=\"text-review\" \r\n                         placeholder=\"Текст отзыва\"\r\n                        className=\"inputReview\" \r\n                        />\r\n                            \r\n                    </div>                    \r\n                <button className=\"formButton\" type = \"submit\">Отправить отзыв</button>\r\n            </fieldset>\r\n        </form>\r\n        )\r\n}\r\n\r\nexport default Form"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}