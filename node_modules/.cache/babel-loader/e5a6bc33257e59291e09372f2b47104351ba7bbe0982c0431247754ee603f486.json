{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nexport const cartSlice = createSlice({\n  name: \"cart\",\n  // Начальное состояние хранилища, товаров нет\n  initialState: {\n    products: []\n  },\n  // Все доступные метода\n  reducers: {\n    // Добавить товар, первый параметр это текущеесостояние\n    // А второй параметр имеет данные для действия\n    addProduct: (prevState, action) => {\n      const product = action.payload;\n      const hasInCart = prevState.products.some(prevProduct => prevProduct.id === product.id);\n      if (hasInCart) return prevState;\n      return {\n        ...prevState,\n        // Внутри action.payload информация о добавленномтоваре\n        // Возвращаем новый массив товаров вместе сдобавленным\n        products: [...prevState.products, action.payload]\n      };\n    },\n    removeProduct: (prevState, action) => {\n      const product = action.payload;\n      return {\n        ...prevState,\n        products: prevState.products.filter(prevProduct => {\n          return prevProduct.id !== product.id;\n        })\n      };\n    }\n  }\n});\n\n// Экспортируем наружу все действия\nexport const {\n  addProduct,\n  removeProduct\n} = cartSlice.actions;\n\n// И сам редуктор тоже\nexport default cartSlice.reducer;","map":{"version":3,"names":["createSlice","cartSlice","name","initialState","products","reducers","addProduct","prevState","action","product","payload","hasInCart","some","prevProduct","id","removeProduct","filter","actions","reducer"],"sources":["F:/test/react-app/src/reducer/cart-reducer.js"],"sourcesContent":["import {createSlice} from \"@reduxjs/toolkit\";\r\n\r\nexport const cartSlice = createSlice ({\r\n    name: \"cart\",\r\n    \r\n    // Начальное состояние хранилища, товаров нет\r\n    initialState: {\r\n        products: [],\r\n    },\r\n    // Все доступные метода\r\n    reducers: {\r\n        // Добавить товар, первый параметр это текущеесостояние\r\n        // А второй параметр имеет данные для действия\r\n        addProduct: (prevState, action) => {\r\n            const product = action.payload;\r\n            const hasInCart = prevState.products.some((prevProduct) => prevProduct.id === product.id);\r\n\r\n            if (hasInCart) return prevState;\r\n\r\n            return{\r\n                ...prevState,\r\n                // Внутри action.payload информация о добавленномтоваре\r\n                // Возвращаем новый массив товаров вместе сдобавленным\r\n                products:[...prevState.products, action.payload],\r\n            };\r\n        },\r\n        removeProduct: (prevState, action ) =>{\r\n            const product = action.payload;\r\n            return {...prevState, \r\n                products: prevState.products.filter((prevProduct) => {\r\n                return prevProduct.id !== product.id\r\n\r\n            })}\r\n        }\r\n    },\r\n});\r\n\r\n// Экспортируем наружу все действия\r\nexport const { addProduct,removeProduct } = cartSlice.actions;\r\n\r\n// И сам редуктор тоже\r\nexport default cartSlice.reducer;"],"mappings":"AAAA,SAAQA,WAAW,QAAO,kBAAkB;AAE5C,OAAO,MAAMC,SAAS,GAAGD,WAAW,CAAE;EAClCE,IAAI,EAAE,MAAM;EAEZ;EACAC,YAAY,EAAE;IACVC,QAAQ,EAAE;EACd,CAAC;EACD;EACAC,QAAQ,EAAE;IACN;IACA;IACAC,UAAU,EAAE,CAACC,SAAS,EAAEC,MAAM,KAAK;MAC/B,MAAMC,OAAO,GAAGD,MAAM,CAACE,OAAO;MAC9B,MAAMC,SAAS,GAAGJ,SAAS,CAACH,QAAQ,CAACQ,IAAI,CAAEC,WAAW,IAAKA,WAAW,CAACC,EAAE,KAAKL,OAAO,CAACK,EAAE,CAAC;MAEzF,IAAIH,SAAS,EAAE,OAAOJ,SAAS;MAE/B,OAAM;QACF,GAAGA,SAAS;QACZ;QACA;QACAH,QAAQ,EAAC,CAAC,GAAGG,SAAS,CAACH,QAAQ,EAAEI,MAAM,CAACE,OAAO;MACnD,CAAC;IACL,CAAC;IACDK,aAAa,EAAE,CAACR,SAAS,EAAEC,MAAM,KAAK;MAClC,MAAMC,OAAO,GAAGD,MAAM,CAACE,OAAO;MAC9B,OAAO;QAAC,GAAGH,SAAS;QAChBH,QAAQ,EAAEG,SAAS,CAACH,QAAQ,CAACY,MAAM,CAAEH,WAAW,IAAK;UACrD,OAAOA,WAAW,CAACC,EAAE,KAAKL,OAAO,CAACK,EAAE;QAExC,CAAC;MAAC,CAAC;IACP;EACJ;AACJ,CAAC,CAAC;;AAEF;AACA,OAAO,MAAM;EAAER,UAAU;EAACS;AAAc,CAAC,GAAGd,SAAS,CAACgB,OAAO;;AAE7D;AACA,eAAehB,SAAS,CAACiB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}